{"code":"!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ProfiToolkit=t(require(\"react\")):e.ProfiToolkit=t(e.React)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";function r(){return!(\"undefined\"==typeof window||!window.document||!window.document.createElement)}function o(e){return e?Object.entries(null!=e?e:{}).map((([e,t])=>{return`${n=e,n.replace(/([A-Z])/g,\"-$1\").toLowerCase()}:${t}`;var n})).join(\";\"):\"\"}n.r(t),n.d(t,\"canUseDom\",(function(){return r})),n.d(t,\"stringifyCssProps\",(function(){return o})),n.d(t,\"useClickOutside\",(function(){return i})),n.d(t,\"useCombinedRef\",(function(){return c})),n.d(t,\"useFloatLabel\",(function(){return s})),n.d(t,\"usePersistCallback\",(function(){return l})),n.d(t,\"useRelativePosition\",(function(){return f})),n.d(t,\"useVisibilityToggler\",(function(){return d})),n.d(t,\"useWatcher\",(function(){return c}));var u=n(0);var i=(e,t)=>{const n=n=>{var r;!e.current||null!==(r=e.current)&&void 0!==r&&r.contains(n.target)||t()};Object(u.useEffect)((()=>(document.addEventListener(\"click\",n),()=>document.removeEventListener(\"click\",n))))};function c(...e){return Object(u.useRef)((function(t){e.forEach((e=>{\"function\"==typeof e?e(t):null!==e&&t&&(e.current=t)}))})).current}function s(e=!1,t){const[n,r]=Object(u.useState)(e);Object(u.useEffect)((()=>{r(e)}),[e]);return[n,{onFocus:Object(u.useCallback)((e=>{t.onFocus&&t.onFocus(e),r(!0)}),[t]),onBlur:Object(u.useCallback)((e=>{t.onBlur&&t.onBlur(e),e.target.value||r(!1)}),[t])}]}function l(e,t){const n=Object(u.useRef)(e);return Object(u.useEffect)((()=>{n.current=e}),t),Object(u.useCallback)(((...e)=>n.current(...e)),[])}function f(e,t,n){const[r,o]=Object(u.useState)(),[i,c]=Object(u.useState)(),s=Object(u.useCallback)((()=>{o(e?e.getBoundingClientRect():void 0)}),[e]);return Object(u.useEffect)((()=>s()),[s]),Object(u.useEffect)((()=>(window.addEventListener(\"resize\",s,!1),()=>{window.removeEventListener(\"resize\",s,!1)})),[s]),Object(u.useEffect)((()=>{if(r){const{top:e,left:o,width:u,height:i}=r;c((t=>{var r;return{...t,width:u,top:e+i+(null!==(r=null==n?void 0:n.top)&&void 0!==r?r:0)+window.scrollY}})),\"left\"===t&&c((e=>{var t;return{...e,left:o+(null!==(t=null==n?void 0:n.left)&&void 0!==t?t:0)-window.scrollX}})),\"right\"===t&&c((e=>{var t;return{...e,left:o-(null!==(t=null==n?void 0:n.right)&&void 0!==t?t:0)}}))}else c(void 0)}),[r,t,n]),i?[{position:\"absolute\",top:`${i.top}px`,left:i.left?`${i.left}px`:\"auto\",right:i.right?`${i.right}px`:\"auto\",minWidth:`${i.width}px`,zIndex:\"10000000\"},s]:[{display:\"none\"},s]}function d({defaultState:e=!1,refs:t}){const[n,r]=Object(u.useState)(e),o=Object(u.useCallback)((()=>{r(!1)}),[]),i=Object(u.useCallback)((({target:e})=>{e instanceof Node&&!t.some((t=>t instanceof Node?t.contains(e):t.current&&t.current.contains(e)))&&r(!1)}),[t]);return Object(u.useEffect)((()=>(n&&(window.addEventListener(\"scroll\",o),window.addEventListener(\"resize\",o),window.addEventListener(\"mousedown\",i)),()=>{window.removeEventListener(\"scroll\",o),window.removeEventListener(\"resize\",o),window.removeEventListener(\"mousedown\",i)})),[n,o,i]),[n,r]}}])}));","name":"profi-toolkit.min.js","input":"(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ProfiToolkit\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ProfiToolkit\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"canUseDom\", function() { return /* reexport */ canUseDom; });\n__webpack_require__.d(__webpack_exports__, \"stringifyCssProps\", function() { return /* reexport */ stringifyCssProps; });\n__webpack_require__.d(__webpack_exports__, \"useClickOutside\", function() { return /* reexport */ hooks_useClickOutside; });\n__webpack_require__.d(__webpack_exports__, \"useCombinedRef\", function() { return /* reexport */ useCombinedRef; });\n__webpack_require__.d(__webpack_exports__, \"useFloatLabel\", function() { return /* reexport */ useFloatLabel; });\n__webpack_require__.d(__webpack_exports__, \"usePersistCallback\", function() { return /* reexport */ usePersistCallback; });\n__webpack_require__.d(__webpack_exports__, \"useRelativePosition\", function() { return /* reexport */ useRelativePosition; });\n__webpack_require__.d(__webpack_exports__, \"useVisibilityToggler\", function() { return /* reexport */ useVisibilityToggler; });\n__webpack_require__.d(__webpack_exports__, \"useWatcher\", function() { return /* reexport */ useCombinedRef; });\n\n// CONCATENATED MODULE: ./utils/canUseDom.ts\nfunction canUseDom() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n// CONCATENATED MODULE: ./utils/stringifyCssProps.ts\nfunction toSnakeCase(camelCase) {\n  return camelCase.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\n\nfunction stringifyCssProps(style) {\n  if (!style) return '';\n  return Object.entries(style !== null && style !== void 0 ? style : {}).map(([k, v]) => `${toSnakeCase(k)}:${v}`).join(';');\n}\n// CONCATENATED MODULE: ./utils/index.ts\n\n\n// EXTERNAL MODULE: external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\nvar external_commonjs_react_commonjs2_react_amd_react_root_React_ = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./hooks/useClickOutside.ts\n\n\nconst useClickOutside = (ref, callback) => {\n  const handleClick = e => {\n    var _ref$current;\n\n    if (ref.current && !((_ref$current = ref.current) !== null && _ref$current !== void 0 && _ref$current.contains(e.target))) {\n      callback();\n    }\n  };\n\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    document.addEventListener('click', handleClick);\n    return () => document.removeEventListener('click', handleClick);\n  });\n};\n\n/* harmony default export */ var hooks_useClickOutside = (useClickOutside);\n// CONCATENATED MODULE: ./hooks/useCombinedRef.ts\n\n\n/**\n * React hook для объединения нескольких рефов в один.\n * Например объединить forwarderRef и собственный.\n * @param  {...React.Ref} refs - массив рефов\n */\nfunction useCombinedRef(...refs) {\n  const combinedRef = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useRef\"])(function setRefs(arg) {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') ref(arg);else if (ref !== null && arg) ref.current = arg;\n    });\n  });\n  return combinedRef.current;\n}\n// CONCATENATED MODULE: ./hooks/useFloatLabel.ts\n\n\n/**\n * Прокси-хук для focus и blur евентов, управляющий float label\n * @param defaultValue {boolean} Дефолтное значение floated\n * @param onFocus функция, которую нужно вызвать при фокусе\n * @param onBlur функция, которую нужно вызвать при блюре\n * @returns [\n *  floated, // состояния лейбла true|false\n *  onFocus, // focus-хандлер для JSX input элемента\n *  onBlur,  // blur-хандлер для JSX input элемента\n * ]\n */\nfunction useFloatLabel(defaultValue = false, props) {\n  const [floated, setFloated] = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useState\"])(defaultValue);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    setFloated(defaultValue);\n  }, [defaultValue]);\n  const onFloatFocus = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])(ev => {\n    if (props.onFocus) props.onFocus(ev);\n    setFloated(true);\n  }, [props]);\n  const onFloatBlur = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])(ev => {\n    if (props.onBlur) props.onBlur(ev);\n    if (!ev.target.value) setFloated(false);\n  }, [props]);\n  return [floated, {\n    onFocus: onFloatFocus,\n    onBlur: onFloatBlur\n  }];\n}\n// CONCATENATED MODULE: ./hooks/usePersistCallback.ts\n\nfunction usePersistCallback(callback, deps) {\n  const callbackRef = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useRef\"])(callback);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    callbackRef.current = callback; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])((...args) => callbackRef.current(...args), []);\n}\n// CONCATENATED MODULE: ./hooks/useRelativePosition.ts\n\n\n/**\n * Returns style that relative to passed [element] or undefined if element is not provider\n * @param elementRef DOM element react reference\n * @example\n * const parent = useRef<HTMLDivElement>();\n * const [style, recalc] = useRelativePosition(parent);\n * <>\n *  <div ref={parent}>I'm parent</div>\n *  <div style={style}>I have relative position to \"parent\"</div>\n * </>\n */\nfunction useRelativePosition(element, align, offset) {\n  const [clientRects, setClientRects] = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useState\"])();\n  const [css, setCSS] = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useState\"])();\n  const calcRects = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])(() => {\n    setClientRects(element ? element.getBoundingClientRect() : undefined);\n  }, [element]);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => calcRects(), [calcRects]);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    window.addEventListener('resize', calcRects, false);\n    return () => {\n      window.removeEventListener('resize', calcRects, false);\n    };\n  }, [calcRects]);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    if (clientRects) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = clientRects;\n      setCSS(css => {\n        var _offset$top;\n\n        return { ...css,\n          width,\n          top: top + height + ((_offset$top = offset === null || offset === void 0 ? void 0 : offset.top) !== null && _offset$top !== void 0 ? _offset$top : 0) + window.scrollY\n        };\n      });\n      if (align === 'left') setCSS(css => {\n        var _offset$left;\n\n        return { ...css,\n          left: left + ((_offset$left = offset === null || offset === void 0 ? void 0 : offset.left) !== null && _offset$left !== void 0 ? _offset$left : 0) - window.scrollX\n        };\n      });\n      if (align === 'right') setCSS(css => {\n        var _offset$right;\n\n        return { ...css,\n          left: left - ((_offset$right = offset === null || offset === void 0 ? void 0 : offset.right) !== null && _offset$right !== void 0 ? _offset$right : 0) // right: right - width + (offset?.right ?? 0) + window.scrollX,\n\n        };\n      });\n    } else {\n      setCSS(undefined);\n    }\n  }, [clientRects, align, offset]);\n  if (!css) return [{\n    display: 'none'\n  }, calcRects];\n  return [{\n    position: 'absolute',\n    top: `${css.top}px`,\n    left: css.left ? `${css.left}px` : 'auto',\n    right: css.right ? `${css.right}px` : 'auto',\n    minWidth: `${css.width}px`,\n    zIndex: '10000000' //TODO: maybe control it from props?\n\n  }, calcRects];\n}\n// CONCATENATED MODULE: ./hooks/useVisibilityToggler.ts\n\nfunction useVisibilityToggler({\n  defaultState = false,\n  refs\n}) {\n  const [isOpen, setIsOpen] = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useState\"])(defaultState);\n  const handleChangePagePosition = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])(() => {\n    setIsOpen(false);\n  }, []);\n  const handleMousedown = Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useCallback\"])(({\n    target\n  }) => {\n    if (target instanceof Node && !refs.some(ref => {\n      if (ref instanceof Node) return ref.contains(target);\n      return ref.current && ref.current.contains(target);\n    })) {\n      setIsOpen(false);\n    }\n  }, [refs]);\n  Object(external_commonjs_react_commonjs2_react_amd_react_root_React_[\"useEffect\"])(() => {\n    if (isOpen) {\n      window.addEventListener('scroll', handleChangePagePosition);\n      window.addEventListener('resize', handleChangePagePosition);\n      window.addEventListener('mousedown', handleMousedown);\n    }\n\n    return () => {\n      window.removeEventListener('scroll', handleChangePagePosition);\n      window.removeEventListener('resize', handleChangePagePosition);\n      window.removeEventListener('mousedown', handleMousedown);\n    };\n  }, [isOpen, handleChangePagePosition, handleMousedown]);\n  return [isOpen, setIsOpen];\n}\n// CONCATENATED MODULE: ./hooks/index.ts\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./index.ts\n\n\n\n/***/ })\n/******/ ]);\n});","inputSourceMap":null}